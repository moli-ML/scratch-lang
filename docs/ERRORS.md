# ScratchLang 错误代码对照表

## 解析错误 (ParseError)

| 错误代码 | 错误信息 | 说明 | 解决方法 |
|---------|---------|------|---------|
| P001 | 无法解析自定义积木定义 | 自定义积木语法错误 | 检查语法: `定义 积木名(参数)` |
| P002 | 未定义的变量 | 引用了未声明的变量 | 先使用 `变量:` 声明变量 |
| P003 | 缺少结束标记 | 控制结构缺少 `结束` | 添加 `结束` 关键字 |
| P004 | 无效的条件表达式 | 条件语法错误 | 检查比较运算符和逻辑运算符 |
| P005 | 参数数量不匹配 | 调用自定义积木时参数数量错误 | 检查参数数量是否正确 |

## 编译错误 (CompileError)

| 错误代码 | 错误信息 | 说明 | 解决方法 |
|---------|---------|------|---------|
| C001 | 无法创建输出文件 | 输出路径无效或无权限 | 检查输出路径和权限 |
| C002 | 项目结构无效 | 生成的项目 JSON 无效 | 检查代码语法 |

## 资源错误 (AssetError)

| 错误代码 | 错误信息 | 说明 | 解决方法 |
|---------|---------|------|---------|
| A001 | 文件不存在 | 指定的资源文件不存在 | 检查文件路径是否正确 |
| A002 | 不支持的图片格式 | 图片格式不是 PNG/JPG/SVG | 转换为支持的格式 |
| A003 | 不支持的音频格式 | 音频格式不是 MP3/WAV | 转换为支持的格式 |
| A004 | 文件过大 | 图片超过 10MB 或音效超过 20MB | 压缩或裁剪文件 |
| A005 | 文件格式无效 | 文件头魔数验证失败 | 确保文件未损坏 |

## 安全错误 (SecurityError)

| 错误代码 | 错误信息 | 说明 | 解决方法 |
|---------|---------|------|---------|
| S001 | 路径超出项目目录范围 | 尝试访问项目外的文件 | 使用项目内的相对路径 |

## 常见问题

### 1. 变量未定义
```
⚠️ 警告: 未定义的变量 '~分数'
```
**解决**: 在使用变量前先声明
```
变量: 分数 = 0
```

### 2. 自定义积木调用失败
```
⚠️ 警告: 无法解析自定义积木定义
```
**解决**: 检查定义语法
```
定义 我的积木(参数1, 参数2)
    // 积木内容
结束
```

### 3. 资源文件找不到
```
⚠️ 警告: 背景文件不存在
```
**解决**:
- 检查文件路径是否正确
- 使用相对于 .sl 文件的路径
- 确保文件扩展名正确

### 4. 块注释未闭合
如果使用 `/*` 开始注释但忘记 `*/` 结束，后续代码会被当作注释忽略。

**解决**: 确保每个 `/*` 都有对应的 `*/`

---

*ScratchLang 错误代码对照表 v1.0*
